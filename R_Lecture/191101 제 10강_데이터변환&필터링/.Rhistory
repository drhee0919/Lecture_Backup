###############################
# 1. plyr package 사용해보기 → dplyr (개량형 package)
install.packages("plyr")
library(plyr)
###################################
## 2. dplyr 사용하기
install.packages("dplyr")
#2) rename():컬럼명을 쉽게 바꿀 수 있다.
#   rename(data frame,
#           바꿀컬럼명1 = 이전컬럼명1,
#           바꿀컬럼명2 = 이전컬럼명2, ...)
# column명을 수정한 새로운 data frame이 리턴
# 기존 df이 바뀌는 것이 아닌 새롭게 df가 만들어지는 것
# 여기서부터는 iris가 아닌 다른 데이터 샘플 사용
# \\M1604INS 에서 '2016 2017 이용건수 및 이용금액.xlsx' 다운
install.packages("xlsx")
library(xlsx)
excel <- read.xlsx(file.choose(),
sheetIndex = 1,
encoding = "UTF-8")
str(excel)
ls(excel)
View(excel)
# 7) group_by() & summarise()
# 그룹별로 그룹화 및 통계 처리
# 예제8)
df <- filter(excel,
AREA == "서울" & AGE > 30) %>%
group_by(SEX) %>%
summarise(sum=sum(AMT17), cnt=n())
library(dplyr)
# 7) group_by() & summarise()
# 그룹별로 그룹화 및 통계 처리
# 예제8)
df <- filter(excel,
AREA == "서울" & AGE > 30) %>%
group_by(SEX) %>%
summarise(sum=sum(AMT17), cnt=n())
df
# 예제 10) bind_rows(df1, df2) : 두개의 df 칼럼이 같아야 붙는다.
df1 <- data.frame(x=c("a","b","c"))
df1
df2 <- data.frame(x=c("d","e","f"))
df2
bind_rows(df1,df2)
df3 <- data.frame(y=c("d","e","f"))
bind_rows(df1,df3) # 붙으나 매칭이 없는 부분은 결측이 생긴다
bind_rows(df1,df2)
# +추가예제
# 예제9) plyr package의  join 함수가
# 각 기능별로 독립적인 함수로 제공된다.
left_join()
# 예제 10) bind_rows(df1, df2) : 두개의 df 칼럼이 같아야 붙는다.
help(bind_rows)
help(group_by)
bind_cols(df1,df2)
bind_cols(df1,df3)
# 예제 10) bind_rows(df1, df2) : 두개의 df 칼럼이 같아야 붙는다.
help(bind)
bind(df1,df2)
df1
df2 <- data.frame(x=c("d","e","f"))
df2
df3 <- data.frame(y=c("d","e","f"))
df3
bind_rows(df1,df2)
bind_rows(df1,df2)
bind_rows(df1,df3) # 붙으나 매칭이 없는 부분은 결측이 생긴다
bind_rows(df2,df3)
bind_cols(df1,df2)
bind_cols(df1,df3)
bind_cols(df2,df3)
